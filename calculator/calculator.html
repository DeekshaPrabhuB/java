<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <title>Bootstrap 101 Template</title>

        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/calci.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
     

</head>

<body>
        <div class="container">
                <div class="row">
                        <!-- Dummy first column -->
                        <div class="col-xs-4 col-md-4"></div>

                        <!-- Second column of calci -->
                        <div class="col-xs-4 col-md-4 calci">
                                <!-- form for calci -->
                                <form name="calculator" onsubmit="calculate()">
                                        <div class="row calcup">
                                                <div class="col-md-12 input-style1">
                                                        <input type="text" placeholder="0" id="display" class="display1" />
                                                </div>
                                        </div>

                                        <div class="row calcup">
                                                <div class="col-md-12 input-style">
                                                        <input type="text" id="displ" class="display1" />
                                                </div>
                                        </div>

                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box1" onclick="clr()">
                                                                <h3> AC</h3>
                                                        </button>
                                                </div>

                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="disp('+/-')" onclick="clear()">
                                                                <h3> +/-</h3>
                                                        </button>
                                                </div>

                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box1" onclick="disp('%')">
                                                                <h3> %</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="disp('*')">
                                                                <h3> X</h3>
                                                        </button>
                                                </div>
                                        </div>

                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp('7')">
                                                                <h3> 7</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box" onclick="disp('8')">
                                                                <h3> 8</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp('9')">
                                                                <h3> 9</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="disp('/')">
                                                                <h3> /</h3>
                                                        </button>
                                                </div>
                                        </div>

                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp('4')">
                                                                <h3> 4</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp(5)">
                                                                <h3> 5</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp(6)">
                                                                <h3> 6</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box1" onclick="disp('-')">
                                                                <h3> -</h3>
                                                        </button>
                                                </div>
                                        </div>

                                        <div class="row bg-row">
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp(1)">
                                                                <h3> 1</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp(2)">
                                                                <h3> 2</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp(3)">
                                                                <h3> 3</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box1" onclick="disp('+')">
                                                                <h3> +</h3>
                                                        </button>
                                                </div>
                                        </div>

                                        <div class="row bg-row">
                                                <div class="col-xs-6 col-md-6">
                                                        <button type="button" class="box" onclick="disp('0')">
                                                                <h3> 0</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3">
                                                        <button type="button" class="box" onclick="disp('.')">
                                                                <h3> .</h3>
                                                        </button>
                                                </div>
                                                <div class="col-xs-3 col-md-3 ">
                                                        <button type="button" class="box2" onclick="operate()">
                                                                <h3>=</h3>
                                                        </button>
                                                </div>
                                        </div>
                                </form>
                        </div>
                        <!-- Dummy column 2 -->
                        <div class="col-xs-4 col-md-4"></div>
                </div>
        </div>

        <!-- java script starts -->
        <script>
                //author:Deeksha B
                // storing array in string and display it in input box
                //val is a string which is taken from the user
                function disp(val) {
                        document.getElementById('display').value += val;
                
                }

                // function to perform operators 
                //operate is the function which is called when =is pressed
                function operate() {
                        var answer = [];
                        var array = document.getElementById('display').value;
                        var i = 0;
                        var newarray = [];
                        var u = Array.from(array);
                        var answer;
                        var valuesToCompare = /[ '0''1''2''3''4''5''6'7''8''9''10''.']/;
                        var tomerge = '';
                        for(var p = 0; p < array.length; p++) {
                                if (u[p].match(valuesToCompare)) {
                                        tomerge += u[p];
                                }
                               
                                else {
                                        if (tomerge==''&&u[p]=='-')
                                        {
                                         tomerge='-';
                                        }
                                        else
                                        {
                                        newarray.push(tomerge);
                                        newarray.push(u[p]);
                                        tomerge = '';
                                }
                        }
                        }
                        newarray.push(tomerge);
                
                        while (newarray.length > 2) {
                                
                                firstOperand = newarray.shift();
                                firstOperand = parseFloat(firstOperand);
                                
                                operator = newarray.shift();
                                secondOperand = newarray.shift();
                                secondOperand = parseFloat(secondOperand);
                                // if(firstOperand=='-'){
                                //         firstOperand=firstOperand+secondOperand;
                                //         alert(firstOperand);

                                // }
                                switch (operator) {
                                        case '+':
                                         answer = firstOperand + secondOperand;
                                         newarray.unshift(answer);
                                                break;

                                        case '-': answer = firstOperand - secondOperand;
                                        newarray.unshift(answer);
                                                break;
                                        case '*': answer = firstOperand * secondOperand;
                                        newarray.unshift(answer);
                                                break;
                                        case '/': answer = firstOperand / secondOperand;
                                        newarray.unshift(answer);
                                                break;
                                             
                                        case '%': answer = firstOperand % secondOperand;
                                        newarray.unshift(answer);
                                                break;
                                }

                        }
                        document.getElementById('displ').value=newarray;
                }
                //clr is the  function performed when you click on AC button
                function clr(){
                        document.getElementById('displ').value="";//displ is the id of first input box
                        document.getElementById('display').value="";//display is the id of the second display window in which answer will display 
                }

        </script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
</body>

</html>